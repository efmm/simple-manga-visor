#:import lv kivy.uix.listview
#:import la kivy.adapters.listadapter
<MenuScreen>
	#orientation: "vertical"
	Button:
		size_hint: 1, 0.2
		text: 'Load folder'
		on_release: root.show_load()
	Button:
		size_hint: 1, 0.2
		text: 'Load zip or cbz only'
		on_release: root.show_load_archivo()
	Button:
		size_hint: 1, 0.2
		text: "Quit"
		on_release: exit()

<LoadDialog>:
	drives_list: drives_list
	filechooser: filechooser
	BoxLayout:
		orientation: "vertical"
		BoxLayout:
			ListView:
				size_hint: 0.3, 1
				id: drives_list
				adapter:
					la.ListAdapter(data=root.get_win_drives(), selection_mode='single', allow_empty_selection=False, cls=lv.ListItemButton)
			FileChooserListView:
				size_hint: 1, 1
				id: filechooser
		BoxLayout:
			size_hint: 1, 0.1
			Button:
				text: 'cancel'
				on_press: root.cancel()

			Button:
				text: "Load"
				on_press: root.load(filechooser.path, filechooser.selection)


<ImagenScreen,ImagenScreen_archivo>
	orientation: "vertical"
	ScatterLayout:
		auto_bring_to_front: False
		size_hint: 1,0.9
		Image:
			allow_stretch: False
			pos_x: root.center_x
			source: root.source
	BoxLayout:
		orientation: "horizontal"
		size_hint: 1, 0.05
		Button:
			size_hint: 0.5, 1
			text: "<-"
			on_press: root.previous()
		Button:
			size_hint: 0.2, 1
			text: "Menu"
			on_press: root.backToMenu()
		Label:
			size_hint: 0.2, 1
			text: root.label_text
		Button:
			size_hint: 0.5, 1
			text: "->"
			on_press: root.next()
	Slider:
		size_hint: 1, 0.05
		orientation: "horizontal"
		min: 0
		step: 1
		max: root.maximo
		value: root.indice
		on_value: root.change_image_slider(*args)
		
